<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G-Shock - Casio Chính Hãng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Include navigation -->
    <div id="nav-placeholder"></div>

    <header class="py-5 text-center bg-light">
        <div class="container">
            <h1 class="text-success">G-SHOCK</h1>
            <p>Đồng hồ thể thao chống sốc hàng đầu thế giới</p>
            <div class="mt-4">
                <h3>Sản phẩm mới <span class="badge bg-success">NEW</span></h3>
                <div class="row mt-4">
                    <div class="col-md-4 mx-auto">
                        <div class="card h-100">
                            <img src="gba-900.jpg" class="card-img-top" alt="G-Shock GBA-900">
                            <div class="card-body text-center">
                                <h2 class="h5">G-Shock GBA-900 <span class="badge bg-success">NEW</span></h2>
                                <p class="card-text">Đồng hồ thông minh kết nối Bluetooth, theo dõi sức khỏe</p>
                                <p class="fw-bold text-success">4.990.000đ</p>
                                <a href="#" class="btn btn-success">Xem chi tiết</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container py-5">
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card h-100 border-success">
                    <img src="ga-2100.jpg" class="card-img-top" alt="GA-2100">
                    <div class="card-body text-center">
                        <h2 class="h5">G-Shock GA-2100</h2>
                        <p class="card-text">Thiết kế mỏng nhẹ với vỏ Carbon Core Guard, chống sốc chuẩn G-Shock</p>
                        <p class="fw-bold text-success">3.290.000đ</p>
                        <a href="#" class="btn btn-success">Xem chi tiết</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 border-success">
                    <img src="gwg-2000.jpg" class="card-img-top" alt="GWG-2000">
                    <div class="card-body text-center">
                        <h2 class="h5">G-Shock Mudmaster GWG-2000</h2>
                        <p class="card-text">Đồng hồ chuyên dụng cho môi trường khắc nghiệt, chống bùn đất</p>
                        <p class="fw-bold text-success">23.990.000đ</p>
                        <a href="#" class="btn btn-success">Xem chi tiết</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card h-100 border-success">
                    <img src="gbd-200.jpg" class="card-img-top" alt="GBD-200">
                    <div class="card-body text-center">
                        <h2 class="h5">G-Shock GBD-200</h2>
                        <p class="card-text">Đồng hồ thể thao kỹ thuật số với tính năng theo dõi sức khỏe</p>
                        <p class="fw-bold text-success">4.590.000đ</p>
                        <a href="#" class="btn btn-success">Xem chi tiết</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    $(function(){
        $("#nav-placeholder").load("nav.html");
        
        // Gọi API để lấy sản phẩm G-Shock
        fetch('http://localhost:3000/api/products/gshock')
            .then(response => response.json())
            .then(products => {
                // Cập nhật sản phẩm mới
                const newProduct = products.find(p => p.isNew);
                if(newProduct) {
                    const newProductCard = document.querySelector('.col-md-4.mx-auto');
                    if(newProductCard) {
                        newProductCard.querySelector('img').src = newProduct.image;
                        newProductCard.querySelector('.h5').innerHTML = 
                            `${newProduct.name} <span class="badge bg-success">NEW</span>`;
                        newProductCard.querySelector('.card-text').textContent = newProduct.description;
                        newProductCard.querySelector('.fw-bold.text-success').textContent = 
                            new Intl.NumberFormat('vi-VN').format(newProduct.price) + 'đ';
                        newProductCard.querySelector('.btn').href = `product-detail.html?id=${newProduct.id}`;
                    }
                }

                // Cập nhật các sản phẩm khác
                const productCards = document.querySelectorAll('main .card');
                products.forEach((product, index) => {
                    if(!product.isNew && index < productCards.length) {
                        const card = productCards[index];
                        card.querySelector('img').src = product.image;
                        card.querySelector('.h5').textContent = product.name;
                        card.querySelector('.card-text').textContent = product.description;
                        card.querySelector('.fw-bold.text-success').textContent = 
                            new Intl.NumberFormat('vi-VN').format(product.price) + 'đ';
                        card.querySelector('.btn').href = `product-detail.html?id=${product.id}`;
                    }
                });
            })
            .catch(error => console.error('Lỗi khi tải dữ liệu:', error));
    });
    </script>
</body>
</html> 